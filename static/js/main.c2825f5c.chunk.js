(this["webpackJsonpkruistocht-in-spijkerbroek"]=this["webpackJsonpkruistocht-in-spijkerbroek"]||[]).push([[0],{77:function(t,e,n){"use strict";n.r(e);var i=n(53),r=n(1),o=n.n(r),a=n(37),s=n.n(a),c=n(19),u=n(33),h=n(5),l=n(11),j=n(6),d=n(22),f=n(23),v=n.n(f),b=n(8),x=n(10),m=n(3),O=n(9),p=function(){function t(e,n,i){Object(m.a)(this,t),this.x=void 0,this.y=void 0,this.z=void 0,this.x=e,this.y=n,this.z=i}return Object(O.a)(t,[{key:"equals",value:function(t){return this===t||t&&this.x===t.x&&this.y===t.y&&this.z===t.z}},{key:"transform",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.x+=t,this.y+=e,this.z+=n,this}},{key:"manhattanDistanceTo",value:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}},{key:"toString",value:function(){return[this.x,this.y,this.z].join(",")}}],[{key:"clone",value:function(e){return new t(e.x,e.y,e.z)}}]),t}(),k=(n(26),n(52),n(13));var g=function(t,e){var n=t*(Math.PI/180),i=Math.cos(n),r=Math.sin(n),o=Math.tan(n),a=e;return{degrees:t,radians:t*(Math.PI/180),tileSize:e,toPixels:function(t,n,o){return[(t+n)*i*e,(t-n)*r*e-a*o]},toCoords:function(t,n){var i=o*t+n;return[((n-i)/-r-i)/e,i/e]}}}(30,24);function y(t,e){var n=e.x-t.x;if(n)return-n;var i=t.y-e.y;if(i)return-i;var r=e.z-t.z;return r?-r:0}var z=n(2),M=function(t){var e=t.path,n=t.stroke,i=void 0===n?"black":n,r=t.strokeWidth,o=void 0===r?0:r,a=e.map((function(t){return g.toPixels.apply(g,Object(k.a)(t))})).map((function(t){return t.map((function(t){return t+0}))}));return Object(z.jsx)(z.Fragment,{children:a.reduce((function(t,e,n,r){return n?t.concat([Object(z.jsx)("line",{x1:e[0],y1:e[1],x2:r[n-1][0],y2:r[n-1][1],stroke:i,strokeWidth:String(o)},n)]):t}),[])})},w=function(t){var e=t.size,n=void 0===e?4:e,i=[[[-1*n,0,0],[n,0,0]],[[0,-1*n,0],[0,n,0]],[[0,0,-1*n],[0,0,n]]];return Object(z.jsx)(z.Fragment,{children:i.map((function(t,e){return Object(z.jsx)(M,{path:t,stroke:"rgba(0,0,0)",strokeWidth:.5},e)}))})},W=function(t){var e=t.x,n=void 0===e?0:e,i=t.y,o=void 0===i?0:i,a=t.z,s=void 0===a?0:a,c=t.children,u=t.crosshairSize,h=void 0===u?0:u,l=Object(r.useMemo)((function(){return g.toPixels(n,o,s)}),[n,o,s]);return Object(z.jsxs)("svg",{x:l[0],y:l[1],overflow:"visible",children:[h?Object(z.jsx)(w,{size:h}):null,c]})},S=["fill","stroke","strokeWidth","zoom"],P=[[1,0,0],[1,1,0],[0,1,0],[0,0,0]].map((function(t){return g.toPixels.apply(g,Object(k.a)(t))})).map((function(t){return t.map((function(t){return t+1}))})),C=function(t){var e=t.fill,n=void 0===e?v()("#282c34"):e,i=t.stroke,r=void 0===i?n.darken(.3).saturate(.3):i,o=t.strokeWidth,a=void 0===o?1:o,s=t.zoom,c=void 0===s?1:s,u=Object(d.a)(t,S);return Object(z.jsx)("polygon",Object(l.a)({points:P.map((function(t){return t.map((function(t){return t*c})).join(",")})).join(" "),stroke:r.string(),fill:n.string(),strokeWidth:a},u))},F=function(t){Object(b.a)(n,t);var e=Object(x.a)(n);function n(){var t;Object(m.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).Component=function(){return Object(z.jsx)(W,Object(l.a)(Object(l.a)({},p.clone(t.location).transform(-.25,-.25,0)),{},{children:Object(z.jsx)(C,{zoom:.5})}))},t}return n}((function t(e,n){Object(m.a)(this,t),this.id=void 0,this.location=void 0,this.Component=function(){return null},this.id=e,this.location=n}));function L(t){var e=t.filter((function(t){return-1!==t}));return e.reduce((function(t,e){return t+e}),0)/e.length}var A=function(){function t(e){Object(m.a)(this,t),this.size=void 0,this.max=void 0,this.map=void 0,this.size=Math.pow(2,e)+1,this.max=this.size-1,this.map=new Float32Array(this.size*this.size)}return Object(O.a)(t,[{key:"get",value:function(t,e){return t<0||t>this.max||e<0||e>this.max?-1:this.map[t+this.size*e]}},{key:"set",value:function(t,e,n){this.map[t+this.size*e]=n}},{key:"divide",value:function(t,e){var n,i,r=t/2,o=e*t;if(!(r<1)){for(i=r;i<this.max;i+=t)for(n=r;n<this.max;n+=t)this.square(n,i,r,Math.random()*o*2-o);for(i=0;i<=this.max;i+=r)for(n=(i+r)%t;n<=this.max;n+=t)this.diamond(n,i,r,Math.random()*o*2-o);this.divide(t/2,e)}}},{key:"square",value:function(t,e,n,i){var r=L([this.get(t-n,e-n),this.get(t+n,e-n),this.get(t+n,e+n),this.get(t-n,e+n)]);this.set(t,e,r+i)}},{key:"diamond",value:function(t,e,n,i){var r=L([this.get(t,e-n),this.get(t+n,e),this.get(t,e+n),this.get(t-n,e)]);this.set(t,e,r+i)}},{key:"generate",value:function(t){this.set(0,0,this.max),this.set(this.max,0,this.max/2),this.set(this.max,this.max,0),this.set(0,this.max,this.max/2),this.divide(this.max,t)}}]),t}(),q=function(t){Object(b.a)(n,t);var e=Object(x.a)(n);function n(t,i){var r;Object(m.a)(this,n),r=e.call(this);var o=new A(9);return o.generate(1),r.terrain=Array.from(new Array(t*i)).map((function(e,n){var i=n%t,r=Math.floor(n/t),a=o.get(i,r);return new p(i,r,(a-512)/20)})),r.entities=Array.from(new Array(100)).map((function(e,n){var o={x:Math.floor(Math.random()*t),y:Math.floor(Math.random()*i)},a=o.y*t+o.x;return new F("entity-"+n,p.clone(Object(l.a)(Object(l.a)({},o),{},{z:r.terrain[a].z})))})),r}return n}((function t(){Object(m.a)(this,t),this.terrain=[],this.entities=[]})),I=["fill","strokeLinecap","stroke","strokeWidth","innerStroke","innerStrokeWidth"];function B(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.map((function(t){return g.toPixels.apply(g,Object(k.a)(t))})).map((function(t){return t.map((function(t){return t+e}))}))}var D,E,J,T,Y,H=g.toPixels(1,0,1).map((function(t){return t+0})),R=B([[1,1,0],[1,1,1],[0,1,1],[0,0,1],[0,0,0],[1,0,0]]),X=B([[0,0,0],[0,0,1],[1,0,1],[1,0,0]]),G=B([[1,0,0],[1,1,0],[1,1,1],[1,0,1]]),K=B([[0,0,1],[1,0,1],[1,1,1],[0,1,1]]),N=function(t){var e=t.fill,n=void 0===e?v()("#282c34"):e,i=t.strokeLinecap,r=void 0===i?"round":i,o=t.stroke,a=void 0===o?n.darken(.3).saturate(.3):o,s=t.strokeWidth,c=void 0===s?1:s,u=t.innerStroke,h=void 0===u?n.lighten(.4).desaturate(.8):u,j=t.innerStrokeWidth,f=void 0===j?c:j,b=Object(d.a)(t,I),x=h&&h.string(),m=a&&a.string(),O={};return(b.onClick||b.onContextMenu)&&(O.cursor="pointer"),Object(z.jsxs)("g",Object(l.a)(Object(l.a)({},b),{},{style:O,children:[n&&Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("polygon",{points:X.map((function(t){return t.join(",")})).join(" "),fill:n.string(),strokeWidth:0},"xz"),Object(z.jsx)("polygon",{points:K.map((function(t){return t.join(",")})).join(" "),fill:n.lighten(.2).string(),strokeWidth:0},"xy"),Object(z.jsx)("polygon",{points:G.map((function(t){return t.join(",")})).join(" "),fill:n.darken(.2).string(),strokeWidth:0},"yz")]}),h&&Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("line",{x1:H[0],y1:H[1],x2:R[3][0],y2:R[3][1],stroke:x,strokeWidth:f,strokeLinecap:r},"x-bar"),Object(z.jsx)("line",{x1:H[0],y1:H[1],x2:R[1][0],y2:R[1][1],stroke:x,strokeWidth:f,strokeLinecap:r},"y-bar"),Object(z.jsx)("line",{x1:H[0],y1:H[1],x2:R[5][0],y2:R[5][1],stroke:x,strokeWidth:f,strokeLinecap:r},"z-bar")]}),Object(z.jsx)("polygon",{points:R.map((function(t){return t.join(",")})).join(" "),stroke:m,fill:"transparent",strokeWidth:c,strokeLinecap:r},"outline")]}))},Q=n(24),U=["zoom"],V=1/Math.pow(2,.5);function Z(t){return Math.round(t)}var $,_,tt=Q.a.div(D||(D=Object(c.a)(["\n\tposition: absolute;\n\tleft: 50%;\n\ttop: 50%;\n\twidth: 0;\n\theight: 0;\n\ttransition: transform 0.5s;\n\t> * {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t}\n"]))),et=function(t){var e=t.overlay,n=t.center,i=void 0===n?{x:0,y:0,z:0}:n,o=t.zoom,a=void 0===o?1:o,s=t.children,c=Object(r.useMemo)((function(){return g.toPixels(i.x,i.y,i.z).map((function(t,e){return Z(-t)+(e?0:.5)}))}),[i]),u=Object(j.a)(c,2),h=u[0],l=u[1],d={transform:"translate(\n\t\t\t\t".concat(h*a,"px,\n\t\t\t\t").concat(l*a,"px\n\t\t\t)")};return Object(z.jsxs)(tt,{style:d,children:[Object(z.jsx)(nt,{zoom:a,children:s}),e]})},nt=function(t){var e=t.zoom,n=void 0===e?1:e,i=Object(d.a)(t,U);return Object(z.jsx)("svg",Object(l.a)({width:"1px",height:"1px",overflow:"visible",shapeRendering:"geometricPrecision",viewBox:[0,0,1/n,1/n].join(" ")},i))},it=Q.a.div(E||(E=Object(c.a)(["\n\t--scale-val: ",";\n\n\tposition: absolute;\n\ttransform-origin: top left;\n\ttransform: scale(var(--scale-val));\n"])),(function(t){var e=t.zoom;return void 0===e?1:e})),rt=(Object(Q.a)(it)(J||(J=Object(c.a)(["\n\ttransform: skewY(-","deg)\n\t\tscale(calc("," * var(--scale-val)), var(--scale-val));\n"])),g.degrees,V),Object(Q.a)(it)(T||(T=Object(c.a)(["\n\ttransform: rotate(-","deg) skewX(","deg)\n\t\tscale(\n\t\t\tcalc("," * var(--scale-val)),\n\t\t\tcalc("," * var(--scale-val))\n\t\t);\n"])),g.degrees,g.degrees,Math.sqrt(V),V),Object(Q.a)(it)(Y||(Y=Object(c.a)(["\n\ttransform: skewY(","deg)\n\t\tscale(calc("," * var(--scale-val)), var(--scale-val));\n"])),g.degrees,V),Q.a.section($||($=Object(c.a)(["\n  position: absolute;\n  bottom: 0;\n  left: 0;\n"])))),ot=function(){return Object(z.jsx)(rt,{children:Object(z.jsx)("p",{children:"Heyyoo"})})},at=["coordinate"],st=function(t){var e=t.coordinate,n=Object(d.a)(t,at),i=Object(r.useState)(!1),o=Object(j.a)(i,2),a=o[0],s=o[1],c=p.clone(e).transform(-.5,-.5,-1);return Object(z.jsx)(W,{x:c.x,y:c.y,z:c.z,children:Object(z.jsx)(N,Object(l.a)(Object(l.a)({},n),{},{fill:a?v()("#282c34").lighten(1):void 0,stroke:a?v()("#fff"):void 0,innerStroke:a?v()("#ccd1dd"):void 0,onMouseEnter:function(){return s(!0)},onMouseLeave:function(){return s(!1)}}))},c.toString())},ct=function(){var t=Object(r.useMemo)((function(){return new q(40,40)}),[]),e=Math.floor(820),n=Object(r.useState)(t.terrain[e]),i=Object(j.a)(n,2),o=i[0],a=i[1],s=Object(r.useMemo)((function(){return t.terrain.slice().sort(y).map((function(t){return Object(z.jsx)(st,{coordinate:t,onClick:function(e){e.preventDefault(),a(t)}},t.toString())}))}),[t.terrain]),c=Object(r.useMemo)((function(){return t.entities.slice().sort((function(t,e){return y(t.location,e.location)})).map((function(t){var e=t.Component;return Object(z.jsx)(e,{},t.id)}))}),[t.entities]);return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)(et,{center:o,zoom:1,children:[Object(z.jsx)("g",{id:"scene-terrain",children:s}),Object(z.jsx)("g",{id:"scene-entities",children:c})]}),Object(z.jsx)(ot,{})]})},ut=n.p+"static/media/nebula-282c34.dda754f6.png",ht=Object(u.b)(_||(_=Object(c.a)(["\n\tbody {\n\t\tbackground: url(",");\n\t}\n"])),ut);var lt=function(){return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(u.a,{styles:ht}),Object(z.jsx)(h.a,{path:"/",component:ct})]})};s.a.render(Object(z.jsx)(o.a.StrictMode,{children:Object(z.jsx)(i.a,{hashType:"slash",children:Object(z.jsx)(lt,{})})}),document.getElementById("root"))}},[[77,1,2]]]);
//# sourceMappingURL=main.c2825f5c.chunk.js.map